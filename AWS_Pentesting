1. S3 bucket 

	Doesnt allow execution of code in S3
	read, write and list objects in S3
	ACL, bucket policy and IAM policies
	S3 bucket has common naming scheme <bucketname.s3.amazon.com>
	All S3 buckets have a DNS entry

	Common S3 vulnerabilities,
		1. Unauthenticated bucket access -> list, read ,write into bucket anonymously.
		2. Semi-authenticated bucket access -> with valida AWS key and secrete an adversary can access the buckets.
		3. Improper ACL permissions
			S3 ACL can be applied at bucket or object level.
				Bucket Level
				1. Read --> List all objects in the bucket.
				2. Write -->Create, overwrite and delete objects in the bucket.
				3. READ_ACP -->Allows user to read buckets ACL.
				4. WRITE_ACP -->Set a ACL for a bucket.
				5. Full control --> all access at bucket level.
				
				Object Level
				1. Read --> Read contents of the objects in the bucket.
				2. READ_ACP-->Allows user to read objects ACL.
				3. WRITE_ACP-->Allows user to set ACL for the objects.
				4. Full control--> all access at object level.
				
				Example for ACL,
				
			<?xml version="1.0" encoding="UTF-8"?>
<AccessControlPolicy xmlns="http://s3.amazonaws.com/doc/2006-03-01/">
  <Owner>
    <ID>*** Owner-Canonical-User-ID ***</ID>
    <DisplayName>owner-display-name</DisplayName>
  </Owner>
  <AccessControlList>
    <Grant>
      <Grantee xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
               xsi:type="Canonical User">
        <ID>*** Owner-Canonical-User-ID ***</ID>
        <DisplayName>display-name</DisplayName>
      </Grantee>
      <Permission>FULL_CONTROL</Permission>
    </Grant>
  </AccessControlList>
</AccessControlPolicy> 
				
		
	Authenticated users group, http://acs.amazonaws.com/groups/global/AuthenticatedUsers
	All users group, http://acs.amazonaws.com/groups/global/AllUsers
	Log delivery group, http://acs.amazonaws.com/groups/s3/LogDelivery
	
	Bucket policies,
		who has access to which buckets or object level too and what access (Read, write)
		
		Example of bucket policy,
		
		
		{
    "Version":"2012-10-17",
    "Statement": [
        {
            "Effect":"Allow",
            "Principal": "*",
            "Action":["s3:GetObject"],
            "Resource":["arn:aws:s3:::examplebucket/*"]
        }
    ]
}
	

IAM Policy,

Unlike ACLs and bucket policies, IAM policies are targeted at IAM users/groups instead of S3 buckets and objects. Using an IAM policy, we can give an IAM user limited access to S3 resources (or any AWS service in general). The following is an example of IAM policy,

{
    "Statement": [
        {
            "Effect":"Allow",
            "Action": [ 
                "s3:GetObject",
                "s3:PutObject",
                "s3:DeleteObject"
            ],
            "Resource":"arn:aws:s3:::examplebucket/*"
        }
    ]
}

Pre-signed URL,
	Temporary URL to access private buckets objects for read and write actions for a user other than the owner.
	Generate a pre-signed URL for an object that has to be shared, specify the date and time for the url to expire.
	
	
	
  1.Whether or not authentication is enforced for objects referenced in pre-signed URLs.
  2.Whether the token is valid for an excessive amount of time.
